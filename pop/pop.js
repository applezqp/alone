(function(h,g,f,d){var b=window.navigator.userAgent.toLowerCase();var e=util={isUndefined:function(k){return k===void 0},isString:function(k){return k.constructor==String},isNumber:function(k){return k.constructor==Number},isObject:function(k){return k.constructor==Object},isFunction:function(k){return k.constructor==Function},isElement:function(k){return !!(k&&k.nodeType&&k.nodeType==1)},isDOM:function(k){return k===f||k===h||k===g||e.isElement()},isStrict:h.compatMode==="CSS1Compat",ua:{ie:/msie/.test(b)&&!/opera/i.test(b),ie6:/msie 6/.test(b)}};var a=DOM={create:function(m,l){if(!e.isString(m)){return}var o=h.createElement(m);if(e.isObject(l)){for(var n in l){switch(n.toLowerCase()){case"class":o.setAttribute(e.ua.ie6?"className":"class",l[n]);break;default:o.setAttribute(n,l[n]);break}}}return o},addCSS:function(k){var l=a.create("style",{type:"text/css"});(h.head||h.getElementsByTagName("head")[0]).appendChild(l);if(l.styleSheet){l.styleSheet.cssText=k}else{l.appendChild(h.createTextNode(k))}},viewSize:function(){return e.ua.ie?(e.isStrict?{width:g.clientWidth,height:g.clientHeight}:{width:h.body.clientWidth,height:h.body.clientHeight}):{width:f.innerWidth,height:f.innerHeight}},winSize:function(){return{width:Math.max(h.body.clientWidth,h.body.scrollWidth),height:Math.max(h.body.clientHeight,h.body.scrollHeight)}},scrollTop:function(){return f.pageYOffset||g.scrollTop||h.body.scrollTop}};var j=Event={on:function(n,l,m){var l=/^(on)/.test(l)?l.substr(2):l;if(n.addEListener){n.addEListener(l,function(){m.call(n)},false)}else{if(n.attachE){n.attachE("on"+l,function(){m.call(n)})}else{var k=n["on"+l];n["on"+l]=function(){if(k){k.call(n)}m.call(n)}}}}};var c=function(k){this.cfg=k=k||{};this.type=k.type&&e.isString(k.type)&&k.type||"";this.srcNode=k.srcNode&&e.isElement(k.srcNode)&&k.srcNode||null;this.url=k.url&&e.isString(k.url)&&k.url||"";this.width=Number(k.width)||0;this.height=Number(k.height)||0;this.trigger=e.isElement(k.trigger)&&k.trigger||null;this.maskable=e.isUndefined(k.maskable)&&true||!!k.maskable;this.closable=e.isUndefined(k.closable)&&true||!!k.closable;this.prefixCls=k.prefixCls&&e.isString(k.prefixCls)&&k.prefixCls+"_"||"";this._pop=null;this._iframe=null;this._mask=null};var i=function(k){return new c(k)};c.prototype={render:function(k){a.addCSS(["."+this.prefixCls+"alone_pop{","display:none;","position:"+(e.ua.ie6?"absolute":"fixed")+";","width:"+this.width+"px;height:"+this.height+"px;","z-index:100000","}","."+this.prefixCls+"alone_mask{","display:none;","position:absolute;left:0;top:0;","width:100%;height:100%;background:#000;","opacity:0.5;filter:alpha(opacity=50);","z-index:99999","}"].join(""));var l=document.createDocumentFragment();this._pop=a.create("div",{"class":this.prefixCls+"alone_pop"});this._mask=this.maskable?a.create("div",{"class":this.prefixCls+"alone_mask"}):null;var m=null;if(e.ua.ie6){m=a.create("iframe",{src:"about:blank",width:"100%",height:"100%",frameBorder:"0",scrolling:"no"})}m&&this._mask&&this._mask.appendChild(m);this._mask&&l.appendChild(this._mask);this._pop&&l.appendChild(this._pop);document.body.appendChild(l);this._bind();return this},_bind:function(){var k=this;j.on(f,"resize",function(){k.fixed(true)});j.on(f,"scroll",function(){k.fixed(true)})},fixed:function(m){var n=a.viewSize(),k=a.winSize();if(this._pop){var l=(n.height-this.height)/2;this._pop.style.left=(n.width-this.width)/2+"px";this._pop.style.top=l+"px";e.ua.ie6&&(this._pop.style.top=a.scrollTop()+l+"px")}if(!!m){return}if(this._mask){this._mask.style.width=k.width+"px";this._mask.style.height=k.height+"px"}},show:function(k){this.fixed();this._pop&&(this._pop.style.display="block");this._mask&&(this._mask.style.display="block")},hide:function(){},destroy:function(){}};window.Pop=i})(document,document.documentElement,window);
